{"ast":null,"code":"const bcrypt = require(\"bcryptjs\");\nconst User = require(\"../models/User\");\nrouter.post(\"/register\", async (req, res) => {\n  const {\n    name,\n    email,\n    password\n  } = req.body;\n  try {\n    const existingUser = await User.findOne({\n      email\n    });\n    if (existingUser) return res.status(400).json({\n      message: \"User already exists\"\n    });\n\n    // Hash the password\n    const salt = await bcrypt.genSalt(10);\n    const hashedPassword = await bcrypt.hash(password, salt);\n    const newUser = new User({\n      name,\n      email,\n      password: hashedPassword\n    });\n    await newUser.save();\n    res.status(201).json({\n      message: \"User created\"\n    });\n  } catch (err) {\n    res.status(500).json({\n      message: err.message\n    });\n  }\n});","map":{"version":3,"names":["bcrypt","require","User","router","post","req","res","name","email","password","body","existingUser","findOne","status","json","message","salt","genSalt","hashedPassword","hash","newUser","save","err"],"sources":["C:/Users/Daniel/Desktop/מקצועות/Full Stack/End of the year project - or/frontend/src/components/Register.jsx"],"sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst User = require(\"../models/User\");\r\n\r\nrouter.post(\"/register\", async (req, res) => {\r\n  const { name, email, password } = req.body;\r\n  try {\r\n    const existingUser = await User.findOne({ email });\r\n    if (existingUser) return res.status(400).json({ message: \"User already exists\" });\r\n\r\n    // Hash the password\r\n    const salt = await bcrypt.genSalt(10);\r\n    const hashedPassword = await bcrypt.hash(password, salt);\r\n\r\n    const newUser = new User({\r\n      name,\r\n      email,\r\n      password: hashedPassword\r\n    });\r\n\r\n    await newUser.save();\r\n    res.status(201).json({ message: \"User created\" });\r\n  } catch (err) {\r\n    res.status(500).json({ message: err.message });\r\n  }\r\n});\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAEtCE,MAAM,CAACC,IAAI,CAAC,WAAW,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAGJ,GAAG,CAACK,IAAI;EAC1C,IAAI;IACF,MAAMC,YAAY,GAAG,MAAMT,IAAI,CAACU,OAAO,CAAC;MAAEJ;IAAM,CAAC,CAAC;IAClD,IAAIG,YAAY,EAAE,OAAOL,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAsB,CAAC,CAAC;;IAEjF;IACA,MAAMC,IAAI,GAAG,MAAMhB,MAAM,CAACiB,OAAO,CAAC,EAAE,CAAC;IACrC,MAAMC,cAAc,GAAG,MAAMlB,MAAM,CAACmB,IAAI,CAACV,QAAQ,EAAEO,IAAI,CAAC;IAExD,MAAMI,OAAO,GAAG,IAAIlB,IAAI,CAAC;MACvBK,IAAI;MACJC,KAAK;MACLC,QAAQ,EAAES;IACZ,CAAC,CAAC;IAEF,MAAME,OAAO,CAACC,IAAI,CAAC,CAAC;IACpBf,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAe,CAAC,CAAC;EACnD,CAAC,CAAC,OAAOO,GAAG,EAAE;IACZhB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAEO,GAAG,CAACP;IAAQ,CAAC,CAAC;EAChD;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}